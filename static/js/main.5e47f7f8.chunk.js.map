{"version":3,"sources":["hooks/useLocalStorage.js","utils/globe.js","components/Globe/Earth.js","components/Globe/Land.js","components/Globe/Marker.js","components/Globe/Path.js","components/Globe/Curve.js","components/Globe/index.js","utils/emoji.js","components/Search.js","components/Travel.js","components/Travels.js","components/Cities.js","components/Countries.js","components/Export.js","components/Import.js","components/Reset.js","components/Footer.js","components/App.js","serviceWorker.js","index.js"],"names":["useLocalStorage","key","initialValue","useState","item","window","localStorage","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","RADIUS","visibilityForCoordinate","t","e","n","i","width","r","parseInt","s","height","o","data","getImageData","document","createElement","getContext","canvas","drawImage","polar2Cartesian","lat","lng","rad","relAltitude","phi","Math","PI","theta","x","sin","cos","y","z","toVector","c","Vector3","timeZoneOffset","Date","getTimezoneOffset","ROTATION","Earth","rotation","args","color","Land","dots","setDots","useEffect","a","Promise","resolve","reject","img","Image","addEventListener","err","src","process","image","imageData","vertices","D2R","rows","abs","push","Float32Array","load","attach","length","attachObject","count","array","itemSize","size","Marker","city","curve","useMemo","CatmullRomCurve3","point","p","position","TYPES","trail","sail","bus","Path","travel","start","end","startXYZ","endXYZ","controls","d3Interpolate","geoInterpolate","type","Curve","c1","c2","arcHeight","distanceTo","controlXYZ1","controlXYZ2","CubicBezierCurve3","Globe","cities","travels","orthographic","camera","zoom","map","geonameId","id","OrbitControls","enablePan","enableRotate","autoRotate","SPECIAL_CODES_FLAGS","ENG","SCT","WLS","SPECIAL_CODES","Object","keys","countryEmoji","country","includes","emoji","countryCodeEmoji","Search","onSelect","search","setSearch","results","setResults","el","useRef","current","focus","axios","get","params","username","maxRows","q","response","geonames","countryCode","adminCode1","fetchApi","className","inputRef","minLength","debounceTimeout","placeholder","onChange","target","Array","isArray","onClick","name","adminName1","flight","faPlane","faTrain","faShip","faBus","Travel","onFinish","setType","setStart","entries","k","icon","Travels","onRemove","faAngleRight","faTimes","Cities","Countries","countries","Export","title","href","encodeURIComponent","download","faDownload","Import","setCities","setTravels","setCountries","accept","fileReader","FileReader","readAsText","files","onload","result","faUpload","confirm","faTrash","Footer","rel","CITY_FIELDS","App","form","setForm","hasCountry","cs","ts","some","pick","newCities","filter","newTravels","Reset","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5e47f7f8.chunk.js","sourcesContent":["import { useState } from \"react\";\n\nconst useLocalStorage = (key, initialValue) => {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      // Get from local storage by key\n      const item = window.localStorage.getItem(key);\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue = (value) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      // Save state\n      setStoredValue(valueToStore);\n      // Save to local storage\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n};\n\nexport default useLocalStorage;\n","import { Vector3 } from \"three\";\n\nconst RADIUS = 80;\n\nconst visibilityForCoordinate = (t, e, n) => {\n  const i = 4 * n.width,\n    r = parseInt(((t + 180) / 360) * n.width + 0.5),\n    s = n.height - parseInt(((e + 90) / 180) * n.height - 0.5),\n    o = parseInt(i * (s - 1) + 4 * r) + 3;\n  return n.data[o] > 90;\n};\n\nconst getImageData = (t) => {\n  const e = document.createElement(\"canvas\").getContext(\"2d\");\n  return (\n    (e.canvas.width = t.width),\n    (e.canvas.height = t.height),\n    e.drawImage(t, 0, 0, t.width, t.height),\n    e.getImageData(0, 0, t.width, t.height)\n  );\n};\n\nconst loadMap = () =>\n  new Promise((resolve, reject) => {\n    const img = new Image();\n    img.addEventListener(\"load\", () => resolve(img));\n    img.addEventListener(\"error\", (err) => reject(err));\n    img.src = `${process.env.PUBLIC_URL}/images/map.png`;\n  });\n\nconst polar2Cartesian = (lat, lng, rad = RADIUS, relAltitude = 0) => {\n  const phi = ((90 - lat) * Math.PI) / 180;\n  const theta = ((90 - lng) * Math.PI) / 180;\n  const r = rad * (1 + relAltitude);\n  return {\n    x: r * Math.sin(phi) * Math.cos(theta),\n    y: r * Math.cos(phi),\n    z: r * Math.sin(phi) * Math.sin(theta),\n  };\n};\n\nconst toVector = (lat, lng, rad, relAltitude = 0) => {\n  const c = polar2Cartesian(lat, lng, rad, relAltitude);\n  return new Vector3(c.x, c.y, c.z);\n};\n\nconst date = new Date();\nconst timeZoneOffset = date.getTimezoneOffset() || 0;\nconst timeZoneMaxOffset = 60 * 12;\nconst ROTATION = [0, Math.PI * (timeZoneOffset / timeZoneMaxOffset), 0];\n\nexport {\n  RADIUS,\n  visibilityForCoordinate,\n  getImageData,\n  loadMap,\n  polar2Cartesian,\n  toVector,\n  ROTATION,\n};\n","import React from \"react\";\nimport { RADIUS, ROTATION } from \"utils/globe\";\n\nconst Earth = () => (\n  <mesh rotation={ROTATION}>\n    <sphereBufferGeometry args={[RADIUS, 32, 32]} />\n    <meshBasicMaterial color=\"#1F2937\" />\n  </mesh>\n);\n\nexport default Earth;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  loadMap,\n  getImageData,\n  visibilityForCoordinate,\n  polar2Cartesian,\n  ROTATION\n} from \"utils/globe\";\n\nconst Land = () => {\n  const [dots, setDots] = useState([]);\n\n  useEffect(() => {\n    const load = async () => {\n      const image = await loadMap();\n      const imageData = getImageData(image);\n\n      const vertices = [];\n      const D2R = Math.PI / 180;\n      const rows = 200;\n      for (let lat = -90; lat <= 90; lat += 180 / rows) {\n        const t = Math.cos(Math.abs(lat) * D2R) * 25 * Math.PI * 2 * 2;\n        for (let r = 0; r < t; r++) {\n          const lng = (360 * r) / t - 180;\n          if (!visibilityForCoordinate(lng, lat, imageData)) continue;\n\n          const c = polar2Cartesian(lat, lng);\n          vertices.push(c.x, c.y, c.z);\n        }\n      }\n      setDots(new Float32Array(vertices));\n    };\n\n    load();\n  }, []);\n\n  return (\n    <points rotation={ROTATION}>\n      <bufferGeometry attach=\"geometry\">\n        {dots.length && (\n          <bufferAttribute\n            attachObject={[\"attributes\", \"position\"]}\n            count={dots.length / 3}\n            array={dots}\n            itemSize={3}\n          />\n        )}\n      </bufferGeometry>\n      <pointsMaterial size={1.5} color=\"#C7D2FE\" />\n    </points>\n  );\n};\n\nexport default Land;\n","import React, { useMemo } from \"react\";\nimport { CatmullRomCurve3 } from \"three\";\nimport { polar2Cartesian, RADIUS, toVector, ROTATION } from \"utils/globe\";\n\nconst Marker = ({ city }) => {\n  const { lat, lng } = city;\n\n  const curve = useMemo(() => {\n    const s = toVector(lat, lng, RADIUS);\n    const e = toVector(lat, lng, RADIUS + 5);\n\n    return new CatmullRomCurve3([s, e]);\n  }, [lat, lng]);\n\n  const point = useMemo(() => {\n    const p = polar2Cartesian(lat, lng, RADIUS + 5);\n\n    return [p.x, p.y, p.z];\n  }, [lat, lng]);\n\n  return (\n    <mesh rotation={ROTATION}>\n      <mesh>\n        <tubeBufferGeometry args={[curve, 44, 0.3, 8]} />\n        <meshBasicMaterial color=\"#FCD34D\" />\n      </mesh>\n      <mesh position={point}>\n        <sphereBufferGeometry args={[0.3, 5, 5]} />\n        <meshBasicMaterial color=\"#FCD34D\" />\n      </mesh>\n    </mesh>\n  );\n};\n\nexport default Marker;\n","import React, { useMemo } from \"react\";\nimport { CatmullRomCurve3 } from \"three\";\nimport { RADIUS, toVector, ROTATION } from \"utils/globe\";\nimport { geoInterpolate } from \"d3\";\n\nconst TYPES = { trail: \"#10B981\", sail: \"#3B82F6\", bus: \"#F472B6\" };\n\nconst Path = ({ travel }) => {\n  const curve = useMemo(() => {\n    const { start, end } = travel;\n\n    const startXYZ = toVector(start.lat, start.lng, RADIUS + 0.3);\n    const endXYZ = toVector(end.lat, end.lng, RADIUS + 0.3);\n\n    const controls = [startXYZ];\n\n    const d3Interpolate = geoInterpolate(\n      [start.lng, start.lat],\n      [end.lng, end.lat]\n    );\n\n    for (let i = 1; i < 6; i++) {\n      const c = d3Interpolate((1 / 7) * i);\n      controls.push(toVector(c[1], c[0], RADIUS + 0.3));\n    }\n\n    controls.push(endXYZ);\n\n    return new CatmullRomCurve3(controls);\n  }, [travel]);\n\n  return (\n    <mesh rotation={ROTATION}>\n      <tubeBufferGeometry args={[curve, 44, 0.3, 8]} />\n      <meshBasicMaterial color={TYPES[travel.type]} />\n    </mesh>\n  );\n};\n\nexport default Path;\n","import React, { useMemo } from \"react\";\nimport { CubicBezierCurve3 } from \"three\";\nimport { RADIUS, toVector, ROTATION } from \"utils/globe\";\nimport { geoInterpolate } from \"d3\";\n\nconst Curve = ({ travel }) => {\n  const curve = useMemo(() => {\n    const { start, end } = travel;\n\n    const startXYZ = toVector(start.lat, start.lng, RADIUS);\n    const endXYZ = toVector(end.lat, end.lng, RADIUS);\n\n    const d3Interpolate = geoInterpolate(\n      [start.lng, start.lat],\n      [end.lng, end.lat]\n    );\n    const c1 = d3Interpolate(0.25);\n    const c2 = d3Interpolate(0.75);\n\n    const arcHeight = startXYZ.distanceTo(endXYZ) * 0.5 + RADIUS;\n    const controlXYZ1 = toVector(c1[1], c1[0], arcHeight);\n    const controlXYZ2 = toVector(c2[1], c2[0], arcHeight);\n\n    return new CubicBezierCurve3(startXYZ, controlXYZ1, controlXYZ2, endXYZ);\n  }, [travel]);\n\n  return (\n    <mesh rotation={ROTATION}>\n      <tubeBufferGeometry args={[curve, 44, 0.3, 8]} />\n      <meshBasicMaterial color=\"#EF4444\" />\n    </mesh>\n  );\n};\n\nexport default Curve;\n","import React from \"react\";\nimport { Canvas } from \"react-three-fiber\";\nimport { OrbitControls } from \"@react-three/drei\";\nimport Earth from \"./Earth\";\nimport Land from \"./Land\";\nimport Marker from \"./Marker\";\nimport Path from \"./Path\";\nimport Curve from \"./Curve\";\n\nconst Globe = ({ cities, travels }) => {\n  const date = new Date();\n  const timeZoneOffset = date.getTimezoneOffset() || 0;\n  const timeZoneMaxOffset = 60 * 12;\n  const rotation = [0, Math.PI * (timeZoneOffset / timeZoneMaxOffset), 0];\n\n  return (\n    <Canvas orthographic camera={{ position: [0, 0, 200], zoom: 3 }}>\n      <Earth />\n      <Land />\n      {cities.map((city) => (\n        <Marker key={city.geonameId} city={city} />\n      ))}\n      {travels.map((travel) =>\n        travel.type === \"flight\" ? (\n          <Curve key={travel.id} travel={travel} />\n        ) : (\n          <Path key={travel.id} travel={travel} />\n        )\n      )}\n      <OrbitControls enablePan enableRotate autoRotate />\n    </Canvas>\n  );\n};\n\nexport default Globe;\n","import emoji from \"react-easy-emoji\";\nimport { countryCodeEmoji } from \"country-code-emoji\";\n\nconst SPECIAL_CODES_FLAGS = { ENG: \"ðŸ´ó §ó ¢ó ¥ó ®ó §ó ¿\", SCT: \"ðŸ´ó §ó ¢ó ³ó £ó ´ó ¿\", WLS: \"ðŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿\" };\n\nexport const SPECIAL_CODES = Object.keys(SPECIAL_CODES_FLAGS);\n\nconst countryEmoji = (country) =>\n  SPECIAL_CODES.includes(country)\n    ? emoji(SPECIAL_CODES_FLAGS[country])\n    : emoji(countryCodeEmoji(country));\n\nexport default countryEmoji;\n","import React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { DebounceInput } from \"react-debounce-input\";\nimport emoji, { SPECIAL_CODES } from \"utils/emoji\";\n\nconst Search = ({ onSelect }) => {\n  const [search, setSearch] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const el = useRef();\n\n  useEffect(() => el.current.focus(), []);\n\n  useEffect(() => {\n    const fetchApi = async () => {\n      try {\n        const response = await axios.get(\"http://api.geonames.org/search\", {\n          params: { username: \"lexcast\", maxRows: 5, q: search, type: \"json\" },\n        });\n        setResults(\n          response.data.geonames.map((r) =>\n            r.countryCode === \"GB\" && SPECIAL_CODES.includes(r.adminCode1)\n              ? { ...r, countryCode: r.adminCode1 }\n              : r\n          )\n        );\n      } catch (e) {\n        setResults([]);\n        console.error(e);\n      }\n    };\n    if (search) {\n      fetchApi();\n    } else {\n      setResults([]);\n    }\n  }, [search]);\n\n  return (\n    <div className=\"flex flex-col justify-center relative\">\n      <DebounceInput\n        inputRef={el}\n        minLength={2}\n        value={search}\n        debounceTimeout={300}\n        placeholder=\"Search any place...\"\n        className=\"flex items-center h-10 px-3 rounded-full bg-gray-800 text-gray-300 focus:outline-none focus:ring\"\n        onChange={(e) => setSearch(e.target.value)}\n      />\n      {Array.isArray(results) && results.length > 0 && (\n        <div className=\"top-10 ring left-0 right-0 absolute mt-4 rounded-lg bg-gray-800 overflow-hidden text-sm\">\n          {results.map((r) => (\n            <div\n              onClick={() => {\n                onSelect(r);\n                setResults([]);\n                setSearch(\"\");\n                el.current.focus();\n              }}\n              key={r.geonameId}\n              className=\"cursor-pointer px-3 py-2 flex items-center hover:bg-gray-700\"\n            >\n              {r.countryCode && (\n                <span className=\"mr-2\">{emoji(r.countryCode)}</span>\n              )}\n              <span className=\"flex-1\">{r.name}</span>\n              {r.adminName1 && (\n                <span className=\"ml-2 text-xs text-gray-400\">\n                  {r.adminName1}\n                </span>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Search;\n","import React, { useState } from \"react\";\nimport Search from \"./Search\";\nimport emoji from \"react-easy-emoji\";\nimport { countryCodeEmoji } from \"country-code-emoji\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faShip,\n  faPlane,\n  faTrain,\n  faBus,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nconst TYPES = { flight: faPlane, trail: faTrain, sail: faShip, bus: faBus };\n\nconst Travel = ({ onFinish }) => {\n  const [type, setType] = useState();\n  const [start, setStart] = useState();\n\n  return (\n    <div className=\"flex flex-col justify-center\">\n      {!type && (\n        <div className=\"flex items-center justify-around\">\n          {Object.entries(TYPES).map(([k, icon]) => (\n            <div\n              key={k}\n              onClick={() => setType(k)}\n              className=\"flex items-center justify-center rounded-full h-10 w-10 bg-gray-800 cursor-pointer hover:bg-gray-700\"\n            >\n              <FontAwesomeIcon icon={icon} />\n            </div>\n          ))}\n        </div>\n      )}\n      {!!type && !start && (\n        <>\n          <div className=\"flex items-center mb-2\">\n            <div className=\"text-xs mr-2 flex items-center justify-center rounded-full h-6 w-6 bg-gray-800\">\n              <FontAwesomeIcon icon={TYPES[type]} />\n            </div>\n            From:\n          </div>\n          <Search onSelect={(c) => setStart(c)} />\n        </>\n      )}\n      {!!type && !!start && (\n        <>\n          <div className=\"flex items-center mb-2\">\n            <div className=\"mr-2 flex items-center justify-center rounded-full h-6 w-6 bg-gray-800\">\n              <FontAwesomeIcon icon={TYPES[type]} />\n            </div>\n            <div className=\"flex items-center mr-2\">\n              {start.countryCode && (\n                <span className=\"mr-2\">\n                  {emoji(countryCodeEmoji(start.countryCode))}\n                </span>\n              )}\n              <span>{start.name}</span>\n            </div>\n            To:\n          </div>\n          <Search\n            onSelect={(c) => {\n              onFinish(type, start, c);\n              setType();\n              setStart();\n            }}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Travel;\n","import React from \"react\";\nimport emoji from \"utils/emoji\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faTimes,\n  faPlane,\n  faTrain,\n  faShip,\n  faBus,\n  faAngleRight,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nconst TYPES = { flight: faPlane, trail: faTrain, sail: faShip, bus: faBus };\n\nconst Travels = ({ travels, onRemove }) => {\n  return (\n    <>\n      <span className=\"text-xs font-medium mb-1 mt-2\">\n        TRAVELS <span className=\"text-gray-400\">({travels.length})</span>\n      </span>\n      <div className=\"text-xs max-h-24 bg-gray-800 rounded-lg overflow-y-auto\">\n        {travels.map((t) => (\n          <div\n            key={t.id}\n            className=\"group cursor-pointer px-3 py-2 flex items-center hover:bg-gray-700\"\n          >\n            <FontAwesomeIcon\n              className=\"text-xs mr-2 text-gray-400\"\n              icon={TYPES[t.type]}\n            />\n            <div className=\"flex-1 flex items-center\">\n              {[\"start\", \"end\"].map((i) => (\n                <div key={i} className=\"flex items-center\">\n                  {t[i].countryCode && (\n                    <span className=\"mr-2 flex-shrink-0\">\n                      {emoji(t[i].countryCode)}\n                    </span>\n                  )}\n                  <span className=\"flex-1\">{t[i].name}</span>\n                  {i === \"start\" && (\n                    <FontAwesomeIcon\n                      className=\"text-xs mx-2 text-gray-500\"\n                      icon={faAngleRight}\n                    />\n                  )}\n                </div>\n              ))}\n            </div>\n            <span\n              onClick={() => onRemove(t)}\n              className=\"group-hover:visible invisible text-xs\"\n            >\n              <FontAwesomeIcon icon={faTimes} />\n            </span>\n          </div>\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default Travels;\n","import React from \"react\";\nimport emoji from \"utils/emoji\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Cities = ({ cities, onRemove }) => {\n  return (\n    <>\n      <span className=\"text-xs font-medium mb-1 mt-2\">\n        CITIES <span className=\"text-gray-400\">({cities.length})</span>\n      </span>\n      <div className=\"text-xs max-h-24 bg-gray-800 rounded-lg overflow-y-auto\">\n        {cities.map((c) => (\n          <div\n            key={c.geonameId}\n            className=\"group px-3 py-2 flex items-center hover:bg-gray-700\"\n          >\n            {c.countryCode && (\n              <span className=\"mr-2 flex-shrink-0\">{emoji(c.countryCode)}</span>\n            )}\n            <span className=\"flex-1\">{c.name}</span>\n            <span\n              onClick={() => onRemove(c)}\n              className=\"cursor-pointer group-hover:visible invisible text-xs\"\n            >\n              <FontAwesomeIcon icon={faTimes} />\n            </span>\n          </div>\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default Cities;\n","import React from \"react\";\nimport emoji from \"utils/emoji\";\n\nconst Countries = ({ countries }) => {\n  return (\n    <div className=\"flex flex-wrap mb-6\">\n      {countries.map((c) => (\n        <div key={c}>{emoji(c)}</div>\n      ))}\n    </div>\n  );\n};\n\nexport default Countries;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faDownload } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Export = ({ cities, travels, countries }) => (\n  <a\n    title=\"Export\"\n    className=\"flex items-center justify-center focus:outline-none focus:ring w-8 h-8 rounded bg-gray-800 hover:bg-gray-700\"\n    href={`data:text/json;charset=utf-8,${encodeURIComponent(\n      JSON.stringify({ cities, travels, countries }, null, 2)\n    )}`}\n    download=\"globetravel.json\"\n  >\n    <FontAwesomeIcon icon={faDownload} />\n  </a>\n);\n\nexport default Export;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faUpload } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Import = ({ setCities, setTravels, setCountries }) => {\n  const handleFile = (e) => {\n    const fileReader = new FileReader();\n    fileReader.readAsText(e.target.files[0], \"UTF-8\");\n\n    fileReader.onload = (e) => {\n      const data = JSON.parse(e.target.result);\n      setCities(data.cities);\n      setTravels(data.travels);\n      setCountries(data.countries);\n    };\n  };\n\n  return (\n    <label\n      title=\"Import\"\n      className=\"cursor-pointer flex items-center justify-center focus:outline-none focus:ring w-8 h-8 rounded bg-gray-800 hover:bg-gray-700\"\n    >\n      <input\n        className=\"hidden\"\n        type=\"file\"\n        accept=\"application/JSON\"\n        onChange={handleFile}\n      />\n      <FontAwesomeIcon icon={faUpload} />\n    </label>\n  );\n};\n\nexport default Import;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTrash } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Import = ({ setCities, setTravels, setCountries }) => {\n  const handleReset = () => {\n    if (window.confirm(\"Do you really want to delete everything?\")) {\n      setCities([]);\n      setTravels([]);\n      setCountries([]);\n    }\n  };\n\n  return (\n    <button\n      onClick={handleReset}\n      title=\"Reset\"\n      className=\"flex items-center justify-center focus:outline-none focus:ring w-8 h-8 rounded bg-gray-800 hover:bg-gray-700\"\n    >\n      <FontAwesomeIcon icon={faTrash} />\n    </button>\n  );\n};\n\nexport default Import;\n","import React from \"react\";\nimport emoji from \"utils/emoji\";\n\nconst Footer = () => (\n  <>\n    <div className=\"justify-end flex items-center mt-4 mb-1 text-gray-400 text-xs\">\n      Made by<span className=\"mx-1\">{emoji(\"MX\")}</span>\n      <a\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"text-blue-400\"\n        href=\"https://github.com/lexcast\"\n      >\n        Daniel Alejandro Cast\n      </a>\n    </div>\n    <div className=\"text-right text-gray-400 text-xs\">\n      Globetravel uses{\" \"}\n      <a\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"text-blue-400\"\n        href=\"https://www.geonames.org/\"\n      >\n        Geonames API\n      </a>\n    </div>\n  </>\n);\n\nexport default Footer;\n","import React, { useState } from \"react\";\nimport useLocalStorage from \"hooks/useLocalStorage\";\nimport Globe from \"./Globe\";\nimport Search from \"./Search\";\nimport Travel from \"./Travel\";\nimport Travels from \"./Travels\";\nimport Cities from \"./Cities\";\nimport Countries from \"./Countries\";\nimport Export from \"./Export\";\nimport Import from \"./Import\";\nimport Reset from \"./Reset\";\nimport Footer from \"./Footer\";\nimport pick from \"object.pick\";\n\nconst CITY_FIELDS = [\n  \"geonameId\",\n  \"name\",\n  \"countryCode\",\n  \"adminName1\",\n  \"lat\",\n  \"lng\",\n];\n\nconst App = () => {\n  const [form, setForm] = useState();\n  const [cities, setCities] = useLocalStorage(\"@globetravel.cities\", []);\n  const [travels, setTravels] = useLocalStorage(\"@globetravel.travels\", []);\n  const [countries, setCountries] = useLocalStorage(\n    \"@globetravel.countries\",\n    []\n  );\n\n  const hasCountry = (countryCode, cs, ts) => {\n    return (\n      cs.some((c) => c.countryCode === countryCode) ||\n      ts.some(\n        (t) =>\n          t.start.countryCode === countryCode ||\n          t.end.countryCode === countryCode\n      )\n    );\n  };\n\n  const removeCity = ({ geonameId, countryCode }) => {\n    const newCities = cities.filter((c) => geonameId !== c.geonameId);\n    setCities(newCities);\n\n    if (!hasCountry(countryCode, newCities, travels)) {\n      setCountries(countries.filter((c) => c !== countryCode));\n    }\n  };\n\n  const addCity = (c) => {\n    const city = pick(c, CITY_FIELDS);\n\n    setCities([...cities, city]);\n    if (!countries.includes(city.countryCode)) {\n      setCountries([...countries, city.countryCode]);\n    }\n  };\n\n  const removeTravel = ({ id, start, end }) => {\n    const newTravels = travels.filter((t) => id !== t.id);\n    setTravels(newTravels);\n\n    if (!hasCountry(start.countryCode, cities, newTravels)) {\n      setCountries((cs) => cs.filter((c) => c !== start.countryCode));\n    }\n\n    if (!hasCountry(end.countryCode, cities, newTravels)) {\n      setCountries((cs) => cs.filter((c) => c !== end.countryCode));\n    }\n  };\n\n  const addTravel = (type, s, e) => {\n    const start = pick(s, CITY_FIELDS);\n    const end = pick(e, CITY_FIELDS);\n    const id = s.geonameId + \"_\" + e.geonameId;\n\n    setTravels([...travels, { type, start, end, id }]);\n\n    if (!countries.includes(s.countryCode)) {\n      setCountries((c) => [...c, s.countryCode]);\n    }\n\n    if (!countries.includes(e.countryCode)) {\n      setCountries((c) => [...c, e.countryCode]);\n    }\n  };\n\n  return (\n    <div className=\"text-gray-300 w-screen h-screen bg-gray-900 flex overflow-hidden flex-no-wrap\">\n      <div className=\"h-screen w-2/3 bg-gray-900\">\n        <Globe cities={cities} travels={travels} />\n      </div>\n      <div className=\"flex-1 flex flex-col flex-nowrap px-10 pt-14 pb-4 h-screen overflow-y-auto\">\n        {countries.length > 0 && <Countries countries={countries} />}\n        <div className=\"flex-1\">\n          <div className=\"flex justify-around mb-8\">\n            <button\n              onClick={() => setForm(form === \"city\" ? null : \"city\")}\n              className=\"focus:outline-none focus:ring rounded-full bg-gray-800 h-8 px-4 flex items-center text-gray-300 hover:bg-gray-700 font-bolt\"\n            >\n              Add City\n            </button>\n            <button\n              onClick={() => setForm(form === \"travel\" ? null : \"travel\")}\n              className=\"focus:outline-none focus:ring rounded-full bg-gray-800 h-8 px-4 flex items-center text-gray-300 hover:bg-gray-700 font-bolt\"\n            >\n              Add Travel\n            </button>\n          </div>\n          {form === \"city\" && <Search onSelect={addCity} />}\n          {form === \"travel\" && <Travel onFinish={addTravel} />}\n        </div>\n        {cities.length > 0 && <Cities cities={cities} onRemove={removeCity} />}\n        {travels.length > 0 && (\n          <Travels travels={travels} onRemove={removeTravel} />\n        )}\n        <div className=\"mt-6 flex items-center justify-end gap-4\">\n          <Reset {...{ setCities, setTravels, setCountries }} />\n          <Import {...{ setCities, setTravels, setCountries }} />\n          <Export {...{ cities, travels, countries }} />\n        </div>\n        <Footer />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"styles/index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}